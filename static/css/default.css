@charset "UTF-8";

@import url('https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700&subset=latin-ext');

/* **************** */
/* DESKTOP-ONLY CSS */
/* **************** */
@media screen and (min-width: 650px) {

    div#logo img {  display: block;
                    margin: 10px auto 10px auto; }

    div#content {
        margin-left: 200px;
        padding-left: 0;
        line-height: 150%; /* see A/B tests */
    }

    #header {
        margin-bottom: 15px;
    }

    div#main {
        margin-left: 0.5em;
        margin-right: 0.5em;
        border: none;
    }

    div#logo { margin-left: -80px; }

    /* uses up too much horizontal whitespace by default: */
    blockquote { margin-left: 10px; }
    blockquote blockquote { margin-left: 10px; }

    div#sidebar {
        padding: 0.5em;
        width: 160px;
        float: left;

        /* SIDEBAR: add most of the fanciness, particularly the 'block' display which uses up vertical whitespace,
         *  which we can afford on the desktop. */
        /* We want descriptions and tags to be hyphenated/broken
         * when they are too long, otherwise they spill onto the
         * body text, which is ugly and unreadable.
         *
         * CSS courtesy of http://blog.kenneth.io/blog/2012/03/04/word-wrapping-hypernation-using-css/ */
    word-break: break-all;
    }

    div#sidebar-links a {
        display: block;
        font-size: 105%;
        text-decoration: none;
        margin-bottom: 5px;
        text-transform: uppercase;
    }
    div#sidebar-news a {
        display: inline; /* override the `display: block;` so it reads 'NEW: RSS/MAIL' */
        font-size: 105%;
        text-decoration: none;
        margin-bottom: 5px;
        text-transform: uppercase;
    }
}

/* **************** */
/* MOBILE-ONLY CSS */
/* **************** */
@media screen and (max-width: 649px) {
    /* remove extra lines and stuff from the sidebar: */
    div#sidebar hr { display:none; }
    div#donations { display:none; }
    div#cse-sitesearch { display:none; }
    div#logo { display: none; }
    /* even less horizontal is available on mobile! */
    blockquote { margin-left: 3px; }
    blockquote blockquote { margin-left: 3px; }

    /* force source code to fit inside the viewport: */
    pre  { word-wrap: break-word; }
}

/* ********************** */
/* DEVICE-INDEPENDENT CSS */
/* ********************** */

html {
    padding: 0px;
    margin: 0px;

    /* see A/B tests */
    background-color: white;
    color: black;

    /* no size set for the font; see A/B tests */

    /* see A/B tests */
    font-family: Baskerville, "Libre Baskerville", serif;
}

body {
    margin: 1px;
    /* original 1400px; see A/B tests */
    max-width: 830px;
}

div#header h1 {
    text-align: center;
    vertical-align: middle;
}
/* uppercase page title, all section headers; see A/B tests */
h1, h2, h3, h4, h5 { text-transform: uppercase;
                     /* prevent overlapping, per Wei: */
                     line-height: 130%; }

/* center the ads so they don't look aligned with the content & part of the content */
div#adsense { text-align: center;
              max-width: 100%;
              overflow-x: hidden; }
div#bitcoin-donation-address { font-family: monospace; }

/* metadata customization: */
div#description { font-size: 95%; }
div#tags, div#page-created, div#last-modified, div#license { font-size: 80%; }

div#footer {
    padding-top: 30px;
    clear: both;
    font-size: 90%;
    text-align: center;
}

div#disqus_thread { padding-left: 0.5em; }

/* link colors and underlining */
a {
    color: #303C3C; /* off-black */
}
div#content a { word-wrap: break-word; /* force the occasional inline URL or other long word to break at max-width */
                 text-decoration: none;
}

/* Tufte CSS for underlining (https://github.com/edwardtufte/tufte-css)
   The advantage of all this CSS linenoise compared to the previous 'text-decoration: none; border-bottom: 1px Solid grey;' solution from http://devhints.wordpress.com/2006/10/24/css-links-with-different-color-underlines/
   is that when dealing with characters with 'descenders', like 'y', 'g', 'p', 'q' etc, with regular underlining the bottom stroke overlaps with the line and it's harder to read;
   by adding this text-shadow stuff and backgrounding, a little break is made in the underline to add contrast and keep the descender fully visible and outlined.
   Unfortunately, we don't want to add underlines to the TOC because it clutters it (all the lines are links and are in small font), so we have to avoid styling the TOC, which is difficult.
   I got around this by adding in the Hakyll template an additional <div> just for the body of the Markdown content, excluding the TOC, and changing the Tufte CSS to target *that* instead. */
/* egin Tufte CSS */
div#markdownBody a:link {
    text-decoration: none;
         background: -webkit-linear-gradient(#fffff8, #fffff8), -webkit-linear-gradient(#fffff8, #fffff8), -webkit-linear-gradient(#333, #333);
         background: linear-gradient(#fffff8, #fffff8), linear-gradient(#fffff8, #fffff8), linear-gradient(#333, #333);
         -webkit-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;
         -moz-background-size: 0.05em 1px, 0.05em 1px, 1px 1px;
         background-size: 0.05em 1px, 0.05em 1px, 1px 1px;
         background-repeat: no-repeat, no-repeat, repeat-x;
         text-shadow: 0.03em 0 #fffff8, -0.03em 0 #fffff8, 0 0.03em #fffff8, 0 -0.03em #fffff8, 0.06em 0 #fffff8, -0.06em 0 #fffff8, 0.09em 0 #fffff8, -0.09em 0 #fffff8, 0.12em 0 #fffff8, -0.12em 0 #fffff8, 0.15em 0 #fffff8, -0.15em 0 #fffff8;
         background-position: 0% 93%, 100% 93%, 0% 93%; }
@media screen and (-webkit-min-device-pixel-ratio: 0) {
    div#markdownBody a:link { background-position-y: 87%, 87%, 87%; } }
div#markdownBody a:link::selection {
    text-shadow: 0.03em 0 #b4d5fe, -0.03em 0 #b4d5fe, 0 0.03em #b4d5fe, 0 -0.03em #b4d5fe, 0.06em 0 #b4d5fe, -0.06em 0 #b4d5fe, 0.09em 0 #b4d5fe, -0.09em 0 #b4d5fe, 0.12em 0 #b4d5fe, -0.12em 0 #b4d5fe, 0.15em 0 #b4d5fe, -0.15em 0 #b4d5fe;
                    background: #b4d5fe; }
div#markdownBody a:link::-moz-selection {
    text-shadow: 0.03em 0 #b4d5fe, -0.03em 0 #b4d5fe, 0 0.03em #b4d5fe, 0 -0.03em #b4d5fe, 0.06em 0 #b4d5fe, -0.06em 0 #b4d5fe, 0.09em 0 #b4d5fe, -0.09em 0 #b4d5fe, 0.12em 0 #b4d5fe, -0.12em 0 #b4d5fe, 0.15em 0 #b4d5fe, -0.15em 0 #b4d5fe;
    background: #b4d5fe;}
/* end Tufte CSS */

h2 {
    font-size: 120%;
    text-transform: uppercase;
}

h3 {
    font-size: 100%;
    text-transform: uppercase;
}

div.column {
    width: 50%;
    float: left;
}

/* 'figure' because we don't want to force these settings on normal inline images, like those used in _Radiance_ */
figure img {
    display: block;
    margin: 5px auto 5px auto;
    border: none;

    /* resize images based on browser width: 'fluid images'; see
       http://unstoppablerobotninja.com/entry/fluid-images/
       http://blog.kurtschindler.net/post/flexible-dynamically-resizing-images-with-css
       http://stackoverflow.com/questions/787839/resize-image-proportionally-with-css
       Unfortunately, this will cause reflowing as images load and turn out to be too big & have to be rescaled...
       No apparent way to avoid this without a lot of CSS/JS hacks */
    max-width: 100%;
    height: auto;
}

ul {
    /* see A/B tests */
    list-style-type: square;
}

code {
    background-color: rgb(250, 250, 250);
    border: 1px solid rgb(200, 200, 200);
    padding-left: 4px;
    padding-right: 4px;
    /* Tufte CSS's monospace/sans suggestions, borrowing from Github: */
    font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

pre code {
    display: block;
    padding: 8px;
    margin-bottom: 2em;
}

p.caption {
    display: none;
}

p { margin-top: -0.2em;
    margin-bottom: 0 }

/* how much to indent successive paragraphs; see A/B tests */
p + p {
    text-indent: 2em;
    margin-top: 0 }

p.hang { text-indent: -0.44em }

.num { font-size: 85%; }

/* Table of Contents */
div#TOC {
    /* see A/B tests */
    float: left;
    width: auto;
    max-width: 25%;
    /* see A/B tests */
    border: 1px solid #cccccc;
    background-color: #f9f9f9;
    /* Baskerville isn't quite as clear at small font sizes like in the ToC */
    font-family: "Lucida Sans Unicode";
    padding: 0 0.5rem;
    /* Force a margin big enough that
       bulleted items won't overlap the
       blue-shaded area of the ToC */
    margin-right: 20px;
}
div#TOC li {
    font-weight: bold;
    margin-top: 0px;
    margin-bottom: 6px;
    margin-right: 2px;
}
div#TOC li li {
    margin-bottom: 0px;
    font-weight: normal;
    font-size: 90%;
}
div#TOC p {
    margin-top: 9px;
    margin-bottom: 3px;
}
div#TOC ul {
    list-style-type: none;
    padding-left: 0em;
    margin-bottom: 0px;
    margin-top: 4px;
    padding-left: 1em;
    text-indent: -1em;
}
div#TOC ul ul {
    list-style-type: none;
    padding-left: 0.7em;
    margin-top: 2px;
}
div#TOC a {
    border: 0px;
}
div#TOC a:hover {
    text-shadow: 1px 1px 3px #777;
}

/*
 * Tables.less
 * Tables for, you guessed it, tabular data
 * ---------------------------------------- */
/* from Twitter's bootstrap package; adds grid-lines to table */
table {
    width: 100%;
    margin-bottom: 18px;
    padding: 0;
    border-collapse: separate;
    /* *border-collapse: collapse;
       IE7, collapse table to remove spacing */
    font-size: 13px;
    border: 1px solid #ddd;
    border-radius: 4px;
    /* align columns of numbers on their decimal points:
    http://www.w3.org/TR/css3-text/#text-align https://developer.mozilla.org/en-US/docs/Web/CSS/text-align http://blog.adrianroselli.com/2013/05/my-kingdom-for-decimal-alignment-on.html */
    text-align: "." right;
}
table th, table td {
    padding: 10px 10px 9px;
    line-height: 18px;
    text-align: left;
}
table th {
    padding-top: 9px;
    font-weight: bold;
    vertical-align: middle;
    border-bottom: 1px solid #ddd;
}
table td {
    vertical-align: top;
}
table th + th, table td + td {
    border-left: 1px solid #ddd;
}
table tr + tr td {
    border-top: 1px solid #ddd;
}
table tbody tr:first-child td:first-child {
    border-radius: 4px 0 0 0;
}
table tbody tr:first-child td:last-child {
    border-radius: 0 4px 0 0;
}
table tbody tr:last-child td:first-child {
    border-radius: 0 0 0 4px;
}
table tbody tr:last-child td:last-child {
    border-radius: 0 0 4px 0;
}

/* Add little icons to tables handled by tablesorter.js
   to advertise that they are sortable.
   http://tablesorter.com/docs/#Configuration */
th.header {
    background-image: url(/static/img/bg.gif);
    cursor: pointer;
    font-weight: bold;
    background-repeat: no-repeat;
    background-position: center left;
    padding-left: 20px;
    border-right: 1px solid #dad9c7;
    margin-left: -1px;
}
th.headerSortUp {
    background-image: url(/static/img/small_asc.gif);
    background-color: #79BEDB;
}
th.headerSortDown {
    background-image: url(/static/img/small_desc.gif);
    background-color: #79BEDB;
}

/* zebra-stripe tables (CSS3); from Twitter's bootstrap package */
tbody tr:nth-child(odd) td {
    background-color: #f9f9f9;
}
tbody tr:hover td {
    background-color: #f5f5f5;
}

/* CSS written by cwillu of #lesswrong in order to rewrite the Modafinil page's table of prices */
#suppliers-prices td,#suppliers-prices th { padding: 0px 15px; }
#suppliers-prices td:nth-child(1):after { content: "mg/$" }
#suppliers-prices td:nth-child(2) { text-align: right; }
#suppliers-prices td:nth-child(2):after { content: "mg" }
#suppliers-prices td:nth-child(3):before { content: "x" }
#suppliers-prices td:nth-child(5):before { content: "$" }

/* rejigger whitespace inside lists per quicksilver of #haskell */
li { margin-top: 0.5em; }
li p { margin: 0.2em; }

/* Add very modest drop shadows, partially inspired by http://nicolasgallagher.com/css-drop-shadows-without-images/demo/
   Note the awful hack by which we implement 'alternating'/zebra-stripe coloring of quotes.

   See A/B t ests: this highlighting is better than no highlighting */
blockquote {
    z-index: -2;
    background-color: rgb(245, 245, 245); }
blockquote blockquote blockquote, blockquote blockquote blockquote blockquote blockquote {
    background-color: rgb(245, 245, 245); }
blockquote blockquote, blockquote blockquote blockquote blockquote, blockquote blockquote blockquote blockquote blockquote blockquote {
    background-color: rgb(235, 235, 235); }

/* very lightly highlight non-block quotations somewhat similar to above; thanks to puritan and #lesswrong for help */
q {background-color:rgba(0,0,0,0.015);}
blockquote > p:only-of-type q:only-of-type {background-color:inherit}

/* left-hanging quotes:
http://css-tricks.com/almanac/properties/h/hanging-punctuation/ http://www.w3schools.com/cssref/css3_pr_hanging-punctuation.asp http://www.w3.org/TR/css3-text/#hanging-punctuation0 */
blockquote, p {
  hanging-punctuation: first;
}

/* make footnotes better: http://bytes.com/topic/html-css/answers/97932-superscript-doesnt-distort-line-spacing#post340658 */
sub, sup { line-height: 0.3em; }

/* Deal with multiple footnotes one after another; per Charuru */
sup + sup { margin-left: 2px; }

/* Sourcecode highlighting; generated by pandoc. */
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode, table.sourceCode pre
   { margin: 0; padding: 0; border: 0; vertical-align: baseline; border: none; }
td.lineNumbers { border-right: 1px solid #AAAAAA; text-align: right; color: #AAAAAA; padding-right: 5px; padding-left: 5px; }
td.sourceCode { padding-left: 5px; }
.sourceCode span.kw { color: #007020; font-weight: bold; }
.sourceCode span.dt { color: #902000; }
.sourceCode span.dv { color: #40a070; }
.sourceCode span.bn { color: #40a070; }
.sourceCode span.fl { color: #40a070; }
.sourceCode span.ch { color: #4070a0; }
.sourceCode span.st { color: #4070a0; }
.sourceCode span.co { color: #60a0b0; font-style: italic; }
.sourceCode span.ot { color: #007020; }
.sourceCode span.al { color: red; font-weight: bold; }
.sourceCode span.fu { color: #06287e; }
.sourceCode span.re { }
.sourceCode span.er { color: red; font-weight: bold; }

/* Tufte CSS: Sidenote code enabled by feeding the Pandoc through pandoc-sidenote */
/* sidenotes are like footnotes, but in a second column to the right of the main column of text. (There's plenty of horizontal right-whitespace for them because people complain about wide main texts, forcing them to be narrowed to ~1100px inclusive of the left-whitespace.)
The original Tufte CSS sidenote code is undocumented and spread out across the CSS file in an opaque hardwired fashion. The following is what I was able to shrink it down to by deleting lines of code and reverting when it seemed to break the sidenotes, along with a little tweaking of size for gwern.net pages. */
/* begin Tufte CSS */
body { counter-reset: sidenote-counter; }

.sidenote, .marginnote { float: right;
                         clear: right;
                         margin-right: -53%;
                         width: 45%;
                         font-size: 95%;
                         vertical-align: baseline;
                         position: relative; }

.sidenote-number { counter-increment: sidenote-counter; }

.sidenote-number:after, .sidenote:before { content: counter(sidenote-counter) " ";
                                           position: relative;
                                           vertical-align: baseline; }

.sidenote-number:after { content: counter(sidenote-counter);
                         top: -0.5rem;
                         left: 0.1rem; }

.sidenote:before { content: counter(sidenote-counter) " ";
                   top: -0.5rem; }

:not(sidenote):* { width: 65%; }

input.margin-toggle { display: none; }

label.sidenote-number { display: inline; }

label.margin-toggle:not(.sidenote-number) { display: none; }

@media (max-width: 760px) {
                            label.margin-toggle:not(.sidenote-number) { display: inline; }
                            .sidenote, .marginnote { display: none; }
                            .margin-toggle:checked + .sidenote,
                            .margin-toggle:checked + .marginnote { display: block;
                                                                   float: left;
                                                                   left: 1rem;
                                                                   clear: both;
                                                                   width: 95%;
                                                                   margin: 1rem 2.5%;
                                                                   vertical-align: baseline;
                                                                   position: relative; }
                            label { cursor: pointer; }
}
/* End Tufte CSS */